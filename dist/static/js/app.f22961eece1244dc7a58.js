webpackJsonp([3],{"/7zq":function(e,t){},"09yM":function(e,t){},"8tGH":function(e,t){},"9VDJ":function(e,t){},Fb1P:function(e,t){},H6NH:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("7+uW"),n=r("TcQY"),s=r.n(n),o=(r("09yM"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main",attrs:{id:"app"}},[t("keep-alive",[t("router-view")],1)],1)},staticRenderFns:[]});var i=r("VU/8")({name:"App"},o,!1,function(e){r("PGpd")},null,null).exports,l=r("/ocq"),c=r("Xxa5"),u=r.n(c),p=r("exGp"),m=r.n(p),f={data:function(){var e=this;return{ruleForm:{pass:"",checkPass:"",email:""},rules:{pass:[{validator:function(t,r,a){""===r?a(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),a())},trigger:"blur"}],checkPass:[{validator:function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.pass?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}],email:[{validator:function(e,t,r){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return r(new Error("请输入邮箱地址"));setTimeout(function(){a.test(t)?r():r(new Error("请输入正确的邮箱地址"))},100)},trigger:"blur"}]}}},methods:{submitForm:function(e){var t,r=this;this.$refs[e].validate((t=m()(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return a={email:r.ruleForm.email,password:r.ruleForm.pass},e.next=4,r.$api.user.register(a);case 4:if(null===(n=e.sent)){e.next=9;break}200===n.code?(r.$message({type:"success",message:"注册成功"}),r.$router.push({path:"/Login"})):r.$message({type:"success",message:n.error}),e.next=11;break;case 9:return r.$message({type:"success",message:"请求失败"}),e.abrupt("return",!1);case 11:e.next=14;break;case 13:r.$message({type:"error",message:"提交失败"});case 14:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},resetForm:function(e){this.$refs[e].resetFields()}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-container"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("注册")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var h=r("VU/8")(f,d,!1,function(e){r("H6NH")},null,null).exports,v={data:function(){return{ruleForm:{pass:"",email:""},rules:{pass:[{validator:function(e,t,r){""===t?r(new Error("请输入密码")):r()},trigger:"blur"}],email:[{validator:function(e,t,r){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return r(new Error("请输入邮箱地址"));setTimeout(function(){a.test(t)?r():r(new Error("请输入正确的邮箱地址"))},100)},trigger:"blur"}]}}},methods:{submitForm:function(e){var t,r=this;this.$refs[e].validate((t=m()(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return a={email:r.ruleForm.email,password:r.ruleForm.pass},e.next=4,r.$api.user.login(a);case 4:null!==(n=e.sent)?200===n.code&&(r.$store.dispatch("setToken",n.token),r.$store.dispatch("setUsername",n.username),r.$route.query.redirect?r.$router.push({path:r.$route.query.redirect}):r.$router.push({path:"/home"})):r.$message({type:"error",message:"请求失败"}),e.next=10;break;case 8:return console.log("error submit!!"),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},register:function(){this.$router.replace("/register")}}},g={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-container"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var b=r("VU/8")(v,g,!1,function(e){r("8tGH")},null,null).exports,_={data:function(){return{}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},goTo:function(e){this.$router.replace(e)},loginOut:function(){this.$store.dispatch("setToken",null),this.$router.replace("/login")}}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"comment"},[r("el-row",{staticStyle:{"border-bottom":"solid 1px #e6e6e6"}},[r("el-col",[r("el-menu",{staticStyle:{float:"right","border-bottom":"0"},attrs:{mode:"horizontal"}},[r("el-menu-item",{attrs:{index:"1",disabled:""}},[e._v("处理中心")]),e._v(" "),r("el-menu-item",{attrs:{index:"1",disabled:""}},[e._v("我的工作台")]),e._v(" "),r("el-menu-item",{attrs:{index:"3",disabled:""}},[e._v("消息中心")]),e._v(" "),r("el-menu-item",[r("a",{on:{click:function(t){return t.preventDefault(),e.loginOut(t)}}},[e._v("登出")])])],1)],1)],1),e._v(" "),r("el-row",{staticClass:"tac",attrs:{gutter:40}},[r("el-col",{staticClass:"left"},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,"background-color":"#30426a","text-color":"#fff","active-background-color":"#2d3e65","active-text-color":"#fff",router:""},on:{open:e.handleOpen,close:e.handleClose}},[r("el-menu-item",{attrs:{index:"/home/dashborad"}},[r("span",{staticStyle:{"margin-left":"30px"},attrs:{slot:"title"},slot:"title"},[e._v("仪表盘")])]),e._v(" "),r("el-menu-item",{attrs:{index:"/home/containerList"}},[r("i",{staticClass:"el-icon-menu"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("容器管理")])]),e._v(" "),r("el-menu-item",{attrs:{index:"/home/imageList"}},[r("i",{staticClass:"el-icon-document"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("镜像管理")])]),e._v(" "),r("el-menu-item",{attrs:{index:"/home/networkList"}},[r("i",{staticClass:"el-icon-setting"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("网络管理")])]),e._v(" "),r("el-menu-item",{attrs:{index:"/home/endpointList",disabled:""}},[r("i",{staticClass:"el-icon-setting"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("节点管理")])])],1)],1),e._v(" "),r("el-col",{staticClass:"right"},[r("el-scrollbar",{ref:"el-scrollbar",staticStyle:{height:"100%"}},[r("keep-alive",[r("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var k=r("VU/8")(_,w,!1,function(e){r("WnXQ")},null,null).exports,y=r("bOdI"),x=r.n(y),S={data:function(){var e;return e={tableData:[],multipleSelection:[],start_status:!0,stop_status:!0,restart_status:!0,resume_status:!0,remove_status:!0,pause_status:!0,containers_Ids:[],create_status:!1,currentPage:1,pageSizes:[3,5,10],pageSize:3,loading:!0},x()(e,"multipleSelection",[]),x()(e,"paginationShow",!0),x()(e,"reserveSelection",!0),e},methods:{setTable:function(){var e=this;return m()(u.a.mark(function t(){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.container.getContainers();case 3:null!==(r=t.sent)?e.tableData=r:e.$message({type:"error",message:"获取容器列表失败"}),e.loading=!1;case 6:case"end":return t.stop()}},t,e)}))()},changeAllstatus:function(e){this.start_status=this.stop_status=this.restart_status=this.resume_status=this.remove_status=this.pause_status=e},changeButtonStatus:function(e){var t=this;this.changeAllstatus(!0),e.forEach(function(e){"exited"==e?t.start_status=t.restart_status=t.remove_status=!1:"running"==e?t.pause_status=t.stop_status=t.restart_status=t.remove_status=!1:"paused"==e?t.resume_status=t.stop_status=t.restart_status=t.remove_status=!1:"created"==e&&(t.start_status=t.restart_status=t.remove_status=!1)})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){var t=this;this.multipleSelection=e;var r=[];this.containers_Ids=[],e.forEach(function(e){r.push(e.State),t.containers_Ids.push(e.Id)}),this.changeButtonStatus(r)},getRowKey:function(e){return e.Id},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},optQuery:function(e){var t=this;return m()(u.a.mark(function r(){var a,n;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.loading=!0,t.paginationShow=!1,t.create_status=t.start_status=t.stop_status=t.restart_status=t.resume_status=t.remove_status=t.pause_status=!0,a=!1,n=0;case 5:if(!(n<t.containers_Ids.length)){r.next=14;break}return r.next=8,t.$api.container.containerOpt(t.containers_Ids[n],e);case 8:if(a=r.sent){r.next=11;break}return r.abrupt("break",14);case 11:n++,r.next=5;break;case 14:return t.setTable(),t.paginationShow=!0,t.multipleSelection=[],t.$refs.multipleTable.clearSelection(),t.create_status=!1,r.abrupt("return",a);case 20:case"end":return r.stop()}},r,t)}))()},allowOpt:function(e){switch(e){case"start":for(var t=0;t<this.multipleSelection.length;t++){var r=this.multipleSelection[t];if("exited"!=r.State&&"created"!=r.State)return this.$message({type:"error",message:r.Name+"不是停止状态和创建状态无法启动"}),!1}break;case"stop":for(t=0;t<this.multipleSelection.length;t++){var a=this.multipleSelection[t];if("running"!=a.State)return this.$message({type:"error",message:a.Name+"不是运行状态无法停止"}),!1}break;case"pause":for(t=0;t<this.multipleSelection.length;t++){var n=this.multipleSelection[t];if("running"!=n.State)return this.$message({type:"error",message:n.Name+"不是运行状态无法暂停"}),!1}break;case"unpause":for(t=0;t<this.multipleSelection.length;t++){var s=this.multipleSelection[t];if("paused"!=s.State)return this.$message({type:"error",message:s.Name+"不是暂停状态无法恢复"}),!1}break;case"restart":for(t=0;t<this.multipleSelection.length;t++){var o=this.multipleSelection[t];if("running"!=o.State&&"exited"!=o.State&&"created"!=o.State)return this.$message({type:"error",message:o.Name+"不是运行状态、停止状态以及创建状态无法重启"}),!1}break;case"remove":for(t=0;t<this.multipleSelection.length;t++){if("running"===this.multipleSelection[t].State)return!1}}return!0},containerOpt:function(e){var t=this;if("remove"===e){this.allowOpt(e)?this.$confirm("是否确认移除容器","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(m()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.optQuery(e);case 2:r.sent?t.$message({type:"success",message:"移除成功!"}):t.$message({type:"error",message:"移除失败!"});case 4:case"end":return r.stop()}},r,t)}))).catch(function(e){console.log(e),t.$message({type:"info",message:"已取消操作"})}):this.$confirm("容器正在运行,是否强制删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(m()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.optQuery(e);case 2:r.sent?t.$message({type:"success",message:"移除成功!"}):t.$message({type:"error",message:"移除失败!"});case 4:case"end":return r.stop()}},r,t)}))).catch(function(){t.$message({type:"info",message:"已取消操作"})})}else if(this.allowOpt(e)){var r="";switch(e){case"start":r="启动";break;case"restart":r="重启";break;case"stop":r="停止";break;case"pause":r="暂停";break;case"unpause":r="恢复";break;case"remove":r="移除"}this.$confirm("是否确认"+r+"容器?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(m()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.optQuery(e);case 2:a.sent?t.$message({type:"success",message:r+"成功!"}):t.$message({type:"error",message:r+"失败!"});case 4:case"end":return a.stop()}},a,t)}))).catch(function(e){console.log(e),t.$message({type:"info",message:"已取消操作"})})}},inspectContainer:function(e){this.$router.push({path:"/home/inspectContainer",query:{id:e.Id}})},containerState:function(e){"running"!=e.State?this.$message({type:"info",message:"容器未运行，无法查看其运行时状态信息"}):this.$router.push({path:"/home/ContainerState",query:{id:e.Id}})},createContainer:function(){this.$router.push("/home/createContainer")}},activated:function(){this.setTable()}},C={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticStyle:{"text-align":"left"}},[r("el-button-group",[r("el-button",{attrs:{type:"success",disabled:e.start_status,size:"small"},on:{click:function(t){return e.containerOpt("start")}}},[r("i",{staticClass:"el-icon-video-play"}),e._v(" 启动")]),e._v(" "),r("el-button",{attrs:{type:"danger",disabled:e.stop_status,size:"small"},on:{click:function(t){return e.containerOpt("stop")}}},[r("i",{staticClass:"el-icon-video-pause"}),e._v(" 停止")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.restart_status,size:"small"},on:{click:function(t){return e.containerOpt("restart")}}},[r("i",{staticClass:"el-icon-refresh"}),e._v(" 重启")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.pause_status,size:"small"},on:{click:function(t){return e.containerOpt("pause")}}},[r("i",{staticClass:"el-icon-video-pause"}),e._v(" 暂停")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.resume_status,size:"small"},on:{click:function(t){return e.containerOpt("unpause")}}},[r("i",{staticClass:"el-icon-video-play"}),e._v(" 恢复")]),e._v(" "),r("el-button",{attrs:{type:"danger",disabled:e.remove_status,size:"small"},on:{click:function(t){return e.containerOpt("remove")}}},[r("i",{staticClass:"el-icon-delete"}),e._v(" 移除")])],1),e._v(" "),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:e.create_status,type:"primary",size:"small"},on:{click:e.createContainer}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 创建容器")])],1),e._v(" "),r("el-row",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"row-key":e.getRowKey,data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"v-model":e.tableData,stripe:"","highlight-current-row":"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":e.reserveSelection}}),e._v(" "),e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"Name",label:"名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"State",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["paused"==t.row.State?r("el-tag",{attrs:{type:"warning",size:"small"}},[e._v("已暂停")]):e._e(),e._v(" "),"exited"==t.row.State?r("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("已停止")]):e._e(),e._v(" "),"running"==t.row.State?r("el-tag",{attrs:{type:"success",size:"small"}},[e._v("运行中")]):e._e(),e._v(" "),"created"==t.row.State?r("el-tag",{attrs:{type:"success",size:"small"}},[e._v("已创建")]):e._e(),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看详情",placement:"top-start"}},[r("el-link",{attrs:{icon:"el-icon-view"},on:{click:function(r){return r.preventDefault(),e.inspectContainer(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"容器状态信息",placement:"top-start"}},[r("el-link",{attrs:{icon:"el-icon-s-marketing"},on:{click:function(r){return r.preventDefault(),e.containerState(t.row)}}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"Image",label:"镜像"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Created",label:"创建时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"IPAddress",label:"IP地址"}})],1)],1),e._v(" "),r("el-row",[r("div",{staticClass:"block"},[e.paginationShow?r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])],1)},staticRenderFns:[]};var $=r("VU/8")(S,C,!1,function(e){r("cHpg")},"data-v-230e8a20",null).exports,I={data:function(){return{tableData:[],export_status:!0,remove_status:!0,images_Ids:[],currentPage:1,pageSizes:[3,5,10],pageSize:3,multipleSelection:[],reserveSelection:!0}},methods:{setTable:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.image.getImages();case 3:e.tableData=t.sent,e.loading=!1;case 5:case"end":return t.stop()}},t,e)}))()},getRowKey:function(e){return e.id},handleSelectionChange:function(e){var t=this;this.images_Ids=[],e.forEach(function(e){t.images_Ids.push(e.Id)}),0!==this.images_Ids.length?this.remove_status=this.export_status=!1:this.remove_status=this.export_status=!0},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},buildImage:function(){this.$router.push("/home/buildImage")}},activated:function(){this.setTable()}},F={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"text-align":"left"}},[r("el-row",[r("el-dropdown",{attrs:{"split-button":"",type:"danger",size:"small"}},[r("span",[r("i",{staticClass:"el-icon-delete"}),e._v(" 移除")]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[e._v("强制移除")])],1)],1),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.buildImage}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 构建镜像")]),e._v(" "),r("el-button-group",[r("el-button",{attrs:{type:"primary",size:"small"}},[r("i",{staticClass:"el-icon-upload2"}),e._v(" 上传镜像")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.export_status,size:"small"}},[r("i",{staticClass:"el-icon-download"}),e._v(" 导出镜像")])],1)],1),e._v(" "),r("el-row",[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"row-key":e.getRowKey,data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"v-model":e.tableData,stripe:"","highlight-current-row":"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":e.reserveSelection}}),e._v(" "),e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"Tags",label:"标签"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Size",label:"状态"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Created",label:"创建时间"}})],1)],1),e._v(" "),r("el-row",[r("div",{staticClass:"block"},[r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)},staticRenderFns:[]};var D=r("VU/8")(I,F,!1,function(e){r("kUdh")},"data-v-7198fd34",null).exports,N={data:function(){return{loading:!0,tableData:[],multipleSelection:[],remove_status:!0,networks_Names:[],reserveSelection:!0}},methods:{setTable:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.network.getNetworks();case 3:e.tableData=t.sent,e.loading=!1;case 5:case"end":return t.stop()}},t,e)}))()},getRowKey:function(e){return e.id},handleSelectionChange:function(e){var t=this;this.networks_Names=[],e.forEach(function(e){t.networks_Names.push(e.Name)}),0!==this.networks_Names.length?this.remove_status=!1:this.remove_status=!0},chkstu:function(e,t){return"bridge"!=e.Driver&&"none"!=e.Driver&&"host"!=e.Driver},createNetwork:function(){this.$router.push("/home/createNetwork")}},activated:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setTable();case 2:case"end":return t.stop()}},t,e)}))()}},z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"text-align":"left"}},[r("el-row",[r("el-button",{attrs:{type:"danger",size:"small",disabled:e.remove_status}},[r("i",{staticClass:"el-icon-delete"}),e._v(" 移除网络")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.createNetwork}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 新增网络")])],1),e._v(" "),r("el-row",[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"row-key":e.getRowKey,data:e.tableData,"v-model":e.tableData,stripe:"","highlight-current-row":"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.chkstu,"reserve-selection":e.reserveSelection}}),e._v(" "),r("el-table-column",{attrs:{prop:"Id",label:"网络编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Name",label:"网络名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Scope",label:"作用域"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Driver",label:"模型"}})],1)],1)],1)},staticRenderFns:[]};var E=r("VU/8")(N,z,!1,function(e){r("Fb1P")},"data-v-3f67176c",null).exports,P={data:function(){return{optionline:{title:{text:"ECharts 数据统计"},tooltip:{},legend:{data:["用户来源"]},xAxis:{data:["Android","IOS","PC","Ohter"]},yAxis:{},series:[{name:"访问量",type:"line",data:[500,200,360,100]}]},optionbar:{title:{text:"ECharts 数据统计"},tooltip:{},legend:{data:["用户来源"]},xAxis:{data:["Android","IOS","PC","Ohter"]},yAxis:{},series:[{name:"访问量",type:"bar",data:[500,200,360,100]}]}}},activated:function(){this.drawLine()},methods:{drawLine:function(){var e=this.$echarts.init(document.getElementById("chartmainline")),t=this.$echarts.init(document.getElementById("chartmainbar"));e.setOption(this.optionline),t.setOption(this.optionbar)}}},T={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"chartmainline"}}),this._v(" "),t("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"chartmainbar"}})])}]},R=r("VU/8")(P,T,!1,null,null,null).exports,V={data:function(){return{form:{name:"",url:"",publicIP:""}}},methods:{onSubmit:function(){console.log("submit!")}}},L={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{"label-position":"left",model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"Name"}},[r("el-input",{attrs:{placeholder:"e.g. docker-prod01"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"URL"}},[r("el-input",{attrs:{placeholder:"e.g. 10.0.0.10:90001"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Public IP"}},[r("el-input",{attrs:{placeholder:"e.g. 10.0.0.10 or mydocker.mydomain.com"},model:{value:e.form.publicIP,callback:function(t){e.$set(e.form,"publicIP",t)},expression:"form.publicIP"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 添加节点")])],1)],1)},staticRenderFns:[]},A={data:function(){return{form:{name:"",url:""}}},methods:{onSubmit:function(){console.log("submit!")}}},U={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{"label-position":"left",model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"Name"}},[r("el-input",{attrs:{placeholder:"e.g. docker-prod01"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"URL"}},[r("el-input",{attrs:{placeholder:"e.g. 10.0.0.10:90001"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 添加节点")])],1)],1)},staticRenderFns:[]},O={data:function(){return{form:{name:"",url:"",publicIP:"",tls:!1},fileList:[],mode:0}},methods:{onSubmit:function(){console.log("submit!")}}},M={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{"label-position":"left",model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"Name"}},[r("el-input",{attrs:{placeholder:"e.g. docker-prod01"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"URL"}},[r("el-input",{attrs:{placeholder:"e.g. 10.0.0.10:90001"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Public IP"}},[r("el-input",{attrs:{placeholder:"e.g. 10.0.0.10 or mydocker.mydomain.com"},model:{value:e.form.publicIP,callback:function(t){e.$set(e.form,"publicIP",t)},expression:"form.publicIP"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"TLS"}},[r("el-switch",{model:{value:e.form.tls,callback:function(t){e.$set(e.form,"tls",t)},expression:"form.tls"}})],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.form.tls,expression:"form.tls"}]},[r("el-divider",[e._v("选择TLS模式")]),e._v(" "),r("el-button",{staticClass:"bottonSize",attrs:{type:"primary"},on:{click:function(t){e.mode=0}}},[e._v("同时验证服务端和客户端")]),e._v(" "),r("el-button",{staticClass:"bottonSize",attrs:{type:"primary"},on:{click:function(t){e.mode=1}}},[e._v("仅验证客户端")]),e._v(" "),r("el-button",{staticClass:"bottonSize",attrs:{type:"primary"},on:{click:function(t){e.mode=2}}},[e._v("仅验证服务端")]),e._v(" "),r("el-button",{staticClass:"bottonSize",attrs:{type:"primary"},on:{click:function(t){e.mode=3}}},[e._v("服务端和客户端均不验证")]),e._v(" "),r("el-divider",[e._v("上传证书文件")]),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0===e.mode||2===e.mode,expression:"mode === 0 || mode === 2"}],attrs:{label:"TLS CA certificate","label-width":"200px"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"","on-exceed":e.handleExceed,"file-list":e.form.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0===e.mode||1===e.mode,expression:"mode === 0 || mode === 1"}],attrs:{label:"TLS certificate","label-width":"200px"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"","on-exceed":e.handleExceed,"file-list":e.form.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0===e.mode||1===e.mode,expression:"mode === 0 || mode === 1"}],attrs:{label:"TLS key","label-width":"200px"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"","on-exceed":e.handleExceed,"file-list":e.form.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 添加节点")])],1)],1)},staticRenderFns:[]};var H={data:function(){return{form:{name:"",url:"",publicIP:""},agentShow:!1,edgetAgentShow:!1,dockerShow:!1,selectType:[!1,!0,!0]}},components:{agentForm:r("VU/8")(V,L,!1,null,null,null).exports,edageAgentForm:r("VU/8")(A,U,!1,null,null,null).exports,dockerForm:r("VU/8")(O,M,!1,function(e){r("srm9")},null,null).exports},methods:{tab:function(e){switch(this.agentShow=this.edgetAgentShow=this.dockerShow=!1,e){case 1:this.agentShow=!0;break;case 2:this.edgetAgentShow=!0;break;case 3:this.dockerShow=!0}}},activated:function(){this.agentShow=!0}},B={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-divider",[e._v("选择环境类型")])],1),e._v(" "),r("el-row",{staticStyle:{height:"100px"}},[r("el-button",{staticClass:"bottonSize",attrs:{type:"primary"},on:{click:function(t){return e.tab(1)}}},[e._v("Agent")]),e._v(" "),r("el-button",{staticClass:"bottonSize",attrs:{type:"primary"},on:{click:function(t){return e.tab(2)}}},[e._v("Edget Agent")]),e._v(" "),r("el-button",{staticClass:"bottonSize",attrs:{type:"primary"},on:{click:function(t){return e.tab(3)}}},[e._v("Docker")])],1),e._v(" "),r("el-row",[r("el-divider",[e._v("设置环境变量")])],1),e._v(" "),r("el-row",[r("agentForm",{directives:[{name:"show",rawName:"v-show",value:e.agentShow,expression:"agentShow"}]}),e._v(" "),r("edageAgentForm",{directives:[{name:"show",rawName:"v-show",value:e.edgetAgentShow,expression:"edgetAgentShow"}]}),e._v(" "),r("dockerForm",{directives:[{name:"show",rawName:"v-show",value:e.dockerShow,expression:"dockerShow"}]})],1)],1)},staticRenderFns:[]};var q=r("VU/8")(H,B,!1,function(e){r("/7zq")},"data-v-9c80c0a2",null).exports,G={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"text-align":"left"}},[r("el-row",[r("el-button",{attrs:{type:"danger",size:"small",disabled:e.remove_status}},[r("i",{staticClass:"el-icon-delete"}),e._v(" 移除节点")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addEndpoint}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 新增节点")])],1),e._v(" "),r("el-row",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"v-model":e.tableData,stripe:"","highlight-current-row":"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Name",label:"节点名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Type",label:"类型"}}),e._v(" "),r("el-table-column",{attrs:{prop:"URL",label:"URL"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Group",label:"组"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Actions",label:"权限管理"}})],1)],1)],1)},staticRenderFns:[]};var W=r("VU/8")({data:function(){return{tableData:[],multipleSelection:[],remove_status:!0,endpoint_Names:[]}},methods:{setTable:function(){this.tableData=[{Name:"111111111",Type:"bisafe:4.0.0.1",URL:"bridge",Group:"20170108",Actions:"127.0.0.1"},{Name:"111111111",Type:"bisafe:4.0.0.1",URL:"bridge",Group:"20170108",Actions:"127.0.0.1"},{Name:"111111111",Type:"bisafe:4.0.0.1",URL:"bridge",Group:"20170108",Actions:"127.0.0.1"},{Name:"111111111",Type:"bisafe:4.0.0.1",URL:"bridge",Group:"20170108",Actions:"127.0.0.1"}]},handleSelectionChange:function(e){var t=this;this.endpoint_Names=[],e.forEach(function(e){t.endpoint_Names.push(e.Name)}),0!==this.endpoint_Names.length?this.remove_status=!1:this.remove_status=!0},addEndpoint:function(){this.$router.push("/home/addEndpoint")}},activated:function(){this.setTable()}},G,!1,function(e){r("W3c0")},null,null).exports,j={data:function(){var e,t=this;return{dynamicValidateForm:{names:[{value:""}]},append:{images:[{value:""}]},dialogTableVisible:!1,dialogFormVisible:!1,gridData:[],tableData:[],search:"",currentSelectItem:{},checked:null,currentPage:1,pageSizes:[3,5,10],pageSize:3,total:null,rules:{validator:(e=m()(u.a.mark(function e(r,a,n){var s,o,i,l,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}n(new Error("容器名不能为空")),e.next=30;break;case 4:s=1,o=0;case 6:if(!(o<t.dynamicValidateForm.names.length)){e.next=17;break}if(t.dynamicValidateForm.names[o].value!==a){e.next=14;break}if(!(s>=2)){e.next=13;break}return n(new Error("容器名重复")),e.abrupt("return");case 13:s++;case 14:o++,e.next=6;break;case 17:return e.next=19,t.$api.container.getContainers();case 19:i=e.sent,l=0;case 21:if(!(l<i.length)){e.next=29;break}if(c=i[l].Name[i[l].Name.length-1].substring(1),a!==c){e.next=26;break}return n(new Error("容器名已经被使用过")),e.abrupt("return");case 26:l++,e.next=21;break;case 29:n();case 30:case"end":return e.stop()}},e,t)})),function(t,r,a){return e.apply(this,arguments)}),trigger:"blur"},settingform:{volume:"",network:""},formLabelWidth:"120px"}},methods:{setImages:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.image.getImages();case 2:e.gridData=t.sent;case 3:case"end":return t.stop()}},t,e)}))()},createContainer:function(){var e=this;return m()(u.a.mark(function t(){var r,a,n,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!1,a=0;case 2:if(!(a<e.dynamicValidateForm.names.length)){t.next=14;break}return n=e.dynamicValidateForm.names[a].value,s=e.append.images[a].value,t.next=7,e.$api.container.createContainer(n,s);case 7:if(r=t.sent){t.next=11;break}return e.$message({type:"error",message:"容器"+n+"创建失败"}),t.abrupt("break",14);case 11:a++,t.next=2;break;case 14:return e.$message({type:"success",message:"创建成功"}),t.abrupt("return",r);case 16:case"end":return t.stop()}},t,e)}))()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$confirm("是否确认创建容器?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.createContainer()})})},resetForm:function(e){this.$refs[e].resetFields()},removeDomain:function(e){var t=this.dynamicValidateForm.names.indexOf(e);-1!==t&&this.dynamicValidateForm.names.splice(t,1)},addDomain:function(){this.dynamicValidateForm.names.push({value:"",key:Date.now()}),this.append.images.push({value:""})},handleSelectionChange:function(e){e&&(this.currentSelectItem=e)},addImage:function(e){this.dialogTableVisible=!1,this.append.images[e].value=this.currentSelectItem.Tags[this.currentSelectItem.Tags.length-1]},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e}},computed:{searchData:function(){var e=this;return this.tableData=[],this.gridData.forEach(function(t){-1!=t.Tags[t.Tags.length-1].indexOf(e.search)&&e.tableData.push(t)}),0===this.tableData.length&&(this.checked=!1,this.currentSelectItem=null),this.total=this.tableData.length,this.tableData}},activated:function(){this.setImages()}},K={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[e._l(e.dynamicValidateForm.names,function(t,a){return r("el-form-item",{key:t.key,attrs:{label:"容器名"+a,prop:"names."+a+".value",rules:e.rules}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{placeholder:"请输入容器名"},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"name.value"}},[r("template",{slot:"append"},[e._v(e._s(e.append.images[a].value))])],2)],1),e._v(" "),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"info"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("选择镜像")]),e._v(" "),r("el-dialog",{attrs:{title:"镜像列表",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[r("div",[r("div",{staticStyle:{display:"inline-block"}},[e._v(" 镜像名：")]),e._v(" "),r("el-input",{staticStyle:{display:"inline-block",width:"350px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索内容"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),r("el-table",{attrs:{data:e.searchData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)},on:{"current-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-radio",{attrs:{label:t.row.Id},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})]}}],null,!0)}),e._v(" "),r("el-table-column",{attrs:{property:"Id",label:"镜像ID",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{property:"Tags",label:"镜像名",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{property:"Size",label:"大小"}}),e._v(" "),r("el-table-column",{attrs:{property:"Created",label:"创建时间"}})],1),e._v(" "),r("div",{staticStyle:{width:"100%","text-align":"right"}},[r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),r("div",{staticStyle:{width:"100%","text-align":"right"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addImage(a)}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"info"},on:{click:function(t){e.dialogFormVisible=!0}}},[r("i",{staticClass:"el-icon-setting"}),e._v("高级选项")])],1),e._v(" "),r("el-dialog",{attrs:{title:"高级设置",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.settingform}},[r("el-form-item",{attrs:{label:"存储设置","label-width":e.formLabelWidth}},[r("el-input",{staticStyle:{width:"550px"},model:{value:e.settingform.volume,callback:function(t){e.$set(e.settingform,"volume",t)},expression:"settingform.volume"}})],1),e._v(" "),r("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"网络设置","label-width":e.formLabelWidth}},[r("el-select",{staticStyle:{width:"550px"},attrs:{placeholder:"请选择网络"},model:{value:e.settingform.network,callback:function(t){e.$set(e.settingform,"network",t)},expression:"settingform.network"}},[r("el-option",{attrs:{label:"网络1",value:"shanghai"}}),e._v(" "),r("el-option",{attrs:{label:"网络2",value:"beijing"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e.dynamicValidateForm.names.length>1?r("el-button",{attrs:{type:"text"},on:{click:function(r){return r.preventDefault(),e.removeDomain(t)}}},[r("i",{staticClass:"el-icon-circle-close"}),e._v("移除")]):e._e()],1),e._v(" "),r("el-col",{attrs:{span:2}},[a===e.dynamicValidateForm.names.length-1?r("el-button",{attrs:{type:"text"},on:{click:function(r){return r.preventDefault(),e.addDomain(t)}}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("新增")]):e._e()],1)],1)}),e._v(" "),r("el-form-item",{staticStyle:{"margin-left":"21px"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dynamicValidateForm")}}},[e._v("创建容器")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("dynamicValidateForm")}}},[e._v("重置")])],1)],2)},staticRenderFns:[]};var Q=r("VU/8")(j,K,!1,function(e){r("9VDJ")},"data-v-49fe5ad0",null).exports,Z={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("创建镜像")])},staticRenderFns:[]},Y=r("VU/8")(null,Z,!1,null,null,null).exports,J={data:function(){return{form:{name:"",driver:"",subnet:"",ipRange:"",gateWay:""}}},methods:{onSubmit:function(){console.log("submit!")}}},X={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"Name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Driver"}},[r("el-input",{model:{value:e.form.driver,callback:function(t){e.$set(e.form,"driver",t)},expression:"form.driver"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Subnet"}},[r("el-input",{model:{value:e.form.subnet,callback:function(t){e.$set(e.form,"subnet",t)},expression:"form.subnet"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"IP range"}},[r("el-input",{model:{value:e.form.ipRange,callback:function(t){e.$set(e.form,"ipRange",t)},expression:"form.ipRange"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Gateway"}},[r("el-input",{model:{value:e.form.gateway,callback:function(t){e.$set(e.form,"gateway",t)},expression:"form.gateway"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 创建网络")])],1)],1)},staticRenderFns:[]},ee=r("VU/8")(J,X,!1,null,null,null).exports,te={data:function(){return{form:{Id:"",created:""}}},methods:{getTreeData:function(e){var t=this,r="/api/containers/"+e+"/json";this.$axios.get(r).then(function(e){t.form=e.data,console.log(e.data)})},handleNodeClick:function(e){console.log(e)}},activated:function(){this.getTreeData(this.$route.query.id)}},re={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"60%"}},[r("el-form",{attrs:{"label-position":"left","label-width":"150px",model:e.form}},[r("el-form-item",{attrs:{label:"容器ID"}},[r("el-input",{attrs:{readonly:"true"},model:{value:e.form.Id,callback:function(t){e.$set(e.form,"Id",t)},expression:"form.Id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"创建时间"}},[r("el-input",{attrs:{readonly:"true"},model:{value:e.form.Created,callback:function(t){e.$set(e.form,"Created",t)},expression:"form.Created"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"镜像ID"}},[r("el-input",{attrs:{readonly:"true"},model:{value:e.form.Image,callback:function(t){e.$set(e.form,"Image",t)},expression:"form.Image"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"镜像ID"}},[r("el-input",{attrs:{readonly:"true"},model:{value:e.form.Image,callback:function(t){e.$set(e.form,"Image",t)},expression:"form.Image"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"工作目录"}},[r("el-input",{attrs:{readonly:"true"},model:{value:e.form.Config.WorkingDir,callback:function(t){e.$set(e.form.Config,"WorkingDir",t)},expression:"form.Config.WorkingDir"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"环境变量"}},[r("el-input",{attrs:{readonly:"true"},model:{value:e.form.Config.Env,callback:function(t){e.$set(e.form.Config,"Env",t)},expression:"form.Config.Env"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"HostnamePath"}},[r("el-input",{attrs:{readonly:"true"},model:{value:e.form.HostnamePath,callback:function(t){e.$set(e.form,"HostnamePath",t)},expression:"form.HostnamePath"}})],1)],1)],1)},staticRenderFns:[]};var ae=r("VU/8")(te,re,!1,function(e){r("rgDW")},"data-v-445294b6",null).exports,ne={data:function(){return{id:"",sysTableData:[],proTableData:[],sysloading:!0,proloading:!0,timeValue:3,intervalHandle1:null,intervalHandle2:null,activeNames:["1","2","3"]}},methods:{getContainerState:function(){var e=this;return m()(u.a.mark(function t(){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.container.getContainerStats(e.id);case 2:if(r=t.sent,e.sysloading=!1,null!==r){t.next=9;break}return e.$message({type:"error",message:"获取容器系统资源状态失败"}),t.abrupt("return",!1);case 9:e.sysTableData=r;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},t,e)}))()},getTop:function(){var e=this;return m()(u.a.mark(function t(){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.container.getProcessById(e.id);case 2:if(r=t.sent,e.proloading=!1,null!==r){t.next=9;break}return e.$message({type:"error",message:"获取容器进程资源状态失败"}),t.abrupt("return",!1);case 9:e.proTableData=r;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},t,e)}))()},update:function(){var e=this;this.timeoutHandle1&&clearInterval(this.intervalHandle1),this.timeoutHandle2&&clearInterval(this.intervalHandle2);var t=!1,r=!1;this.intervalHandle1=setInterval(m()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getContainerState();case 2:t=r.sent;case 3:case"end":return r.stop()}},r,e)})),1e3*this.timeValue),this.intervalHandle2=setInterval(m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTop();case 2:r=t.sent;case 3:case"end":return t.stop()}},t,e)})),1e3*this.timeValue),!1===t&&clearInterval(this.intervalHandle1),!1===r&&clearInterval(this.intervalHandle2)},change:function(e){this.timeValue>=1?this.update():0===this.timeValue?this.$message({type:"info",message:"关闭刷新"}):(this.timeValue=0,this.$message({type:"info",message:"刷新时间间隔不能小于1s"}))}},activated:function(){this.id=this.$route.query.id,this.sysloading=!0,this.proloading=!0,this.getContainerState(),this.getTop(),this.update()}},se={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("el-collapse-item",{attrs:{name:"1"}},[r("template",{slot:"title"},[r("el-tag",{attrs:{type:"info"}},[e._v("\n        刷新时间\n        "),r("i",{staticClass:"el-icon-s-tools"})])],1),e._v(" "),r("div",{staticClass:"block"},[r("el-slider",{attrs:{"show-input":"",max:10,step:.1},on:{change:e.change},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1)],2),e._v(" "),r("el-collapse-item",{attrs:{name:"2"}},[r("template",{slot:"title"},[r("el-tag",[e._v("\n        系统资源\n        "),r("i",{staticClass:"el-icon-arrow-down"})])],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.sysloading,expression:"sysloading"}],staticStyle:{width:"100%"},attrs:{data:e.sysTableData}},[r("el-table-column",{attrs:{prop:"Id",label:"CONTAINER"}}),e._v(" "),r("el-table-column",{attrs:{prop:"cpus",label:"CPU %"}}),e._v(" "),r("el-table-column",{attrs:{prop:"usageLimit",label:"MEM USAGE / LIMIT"}}),e._v(" "),r("el-table-column",{attrs:{prop:"mem",label:"MEM %"}}),e._v(" "),r("el-table-column",{attrs:{prop:"network",label:"NET I/O"}}),e._v(" "),r("el-table-column",{attrs:{prop:"block",label:"BLOCK I/O"}})],1)],2),e._v(" "),r("el-collapse-item",{attrs:{name:"3"}},[r("template",{slot:"title"},[r("el-tag",[e._v("\n        进程资源\n        "),r("i",{staticClass:"el-icon-arrow-down"})])],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.proloading,expression:"proloading"}],staticStyle:{width:"100%"},attrs:{data:e.proTableData}},[r("el-table-column",{attrs:{prop:"uid",label:"UID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"pid",label:"PID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"stime",label:"STIME"}}),e._v(" "),r("el-table-column",{attrs:{prop:"time",label:"TIME"}}),e._v(" "),r("el-table-column",{attrs:{prop:"cmd",label:"CMD"}})],1)],2)],1)},staticRenderFns:[]};var oe=r("VU/8")(ne,se,!1,function(e){r("oODx")},"data-v-bda1873c",null).exports,ie={data:function(){return{activeName:["1"],endpoints:[],ruleForm:{ip:"",port:""},rules:{ip:[{validator:function(e,t,r){""===t?r(new Error("请输入IP")):r()},trigger:"blur"}],port:[{validator:function(e,t,r){""===t?r(new Error("请输入端口")):r()},trigger:"blur"}]}}},methods:{selectEndpoint:function(){},getEndpointList:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem("username","hu@qq.com"),t.next=3,e.$api.endpoint.getEndpoints();case 3:e.endpoints=t.sent;case 4:case"end":return t.stop()}},t,e)}))()},submitForm:function(e){var t,r=this;this.$refs[e].validate((t=m()(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return a={ip:r.ruleForm.ip,port:r.ruleForm.port,email:localStorage.getItem("username")},console.log("请求"+a),e.next=5,r.$api.endpoint.addEndpoint(a);case 5:e.sent,e.next=10;break;case 8:return console.log("error submit!!"),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.getEndpointList()}},le={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-collapse-item",{attrs:{name:"1"}},[r("template",{slot:"title"},[r("el-tag",[e._v("选择节点"),r("i",{staticClass:"el-icon-arrow-down"})])],1),e._v(" "),e._l(e.endpoints,function(t){return r("el-col",{key:t.id,attrs:{span:4,offset:1}},[r("el-card",{attrs:{shadow:"hover"}},[r("el-row",[r("el-col",[e._v(e._s(t.ip)+":"+e._s(t.port))])],1),e._v(" "),r("el-row",{staticStyle:{"text-align":"right"}},[r("el-col",[r("el-button",{attrs:{type:"text"},on:{click:e.selectEndpoint}},[r("i",{staticClass:"el-icon-view"}),e._v("查看")])],1)],1)],1)],1)})],2),e._v(" "),r("el-collapse-item",{attrs:{name:"2"}},[r("template",{slot:"title"},[r("el-tag",[e._v("新增节点"),r("i",{staticClass:"el-icon-arrow-down"})])],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"IP",prop:"ip"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.ip,callback:function(t){e.$set(e.ruleForm,"ip",t)},expression:"ruleForm.ip"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"PORT",prop:"port"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.port,callback:function(t){e.$set(e.ruleForm,"port",t)},expression:"ruleForm.port"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],2)],1)},staticRenderFns:[]},ce=r("VU/8")(ie,le,!1,null,null,null).exports;a.default.use(l.a);var ue=new l.a({routes:[{path:"/register",name:"Register",component:h,meta:{auth:!1}},{path:"/login",name:"Login",component:b,meta:{auth:!1}},{path:"/home",name:"Home",component:k,meta:{auth:!0},children:[{path:"containerList",component:$},{path:"imageList",component:D},{path:"networkList",component:E},{path:"dashborad",component:R},{path:"endpointList",component:W},{path:"addEndpoint",component:q},{path:"createContainer",component:Q},{path:"buildImage",component:Y},{path:"createNetwork",component:ee},{path:"inspectContainer",component:ae},{path:"containerState",component:oe}]},{path:"/",redirect:"/login"},{path:"/test",component:function(){return r.e(0).then(r.bind(null,"NobJ"))}},{path:"/serError",component:function(){return r.e(1).then(r.bind(null,"qZgG"))}},{path:"/endpointSetting",component:ce}]}),pe=r("Muz9"),me=r.n(pe),fe=r("LByM"),de=r.n(fe),he=r("48sp"),ve=r("NwDJ");a.default.use(he.a);var ge=new he.a.Store({state:{token:null,isUserLogin:!1,username:null},getters:{doneTools:function(e){return e.token},userLogin:function(e){return e.isUserLogin},userName:function(e){return e.username}},mutations:{setToken:function(e,t){e.token=t,e.isUserLogin=!!t},setUsername:function(e,t){e.username=t}},actions:{setToken:function(e,t){(0,e.commit)("setToken",t)},setUsername:function(e,t){(0,e.commit)("setUsername",t)}},plugins:[Object(ve.a)()]}),be=r("//Fk"),_e=r.n(be);me.a.defaults.baseURL="http://localhost:3000",me.a.defaults.timeout=15e3,me.a.interceptors.request.use(function(e){var t=ge.state.token;return t&&(e.headers.Authorization=t),e},function(e){return _e.a.reject(e)}),me.a.interceptors.response.use(function(e){return e.data},function(e){var t=e.response;if(t)switch(t.status){case 401:break;case 403:n.Message.error("登录凭证无效,请重新登录"),ue.push("/login");break;case 404:case 409:break;case 504:ue.push("/serError")}else"ECONNABORTED"===e.code?n.Message.error("页面请求超时"):n.Message.error("服务器出错了");return _e.a.reject(e)});var we,ke,ye,xe,Se,Ce,$e,Ie,Fe,De,Ne,ze,Ee=me.a,Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YY-MM-DD hh:mm:ss",r=new Date(e),a=r.getFullYear(),n=r.getMonth()+1,s=r.getDate(),o=r.getHours(),i=r.getMinutes(),l=r.getSeconds(),c=Array.apply(null,Array(10)).map(function(e,t){return"0"+t});return t.replace(/YY/g,a).replace(/MM/g,c[n]||n).replace(/DD/g,c[s]||s).replace(/hh/g,c[o]||o).replace(/mm/g,c[i]||i).replace(/ss/g,c[l]||l)},Te=this,Re=this,Ve=this,Le=this,Ae=this,Ue={container:{getContainers:(Ne=m()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Ee.get("/api/containers/json?all=true").then(function(e){e.forEach(function(e){var r={};for(var a in r.Id=e.Id.substring(0,12),r.Name=e.Names[e.Names.length-1].substring(1),r.State=e.State,r.Image=e.Image,r.Created=Pe(1e3*parseInt(e.Created)),e.NetworkSettings.Networks)e.NetworkSettings.Networks[a].IPAddress?r.IPAddress=e.NetworkSettings.Networks[a].IPAddress:r.IPAddress="-";t.push(r)})}).catch(function(e){t=null});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e,Te)})),function(){return Ne.apply(this,arguments)}),containerOpt:(De=m()(u.a.mark(function e(t,r){var a,n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,"remove"!==r){e.next=7;break}return n="/api/containers/"+t,e.next=5,Ee.delete(n).then(function(e){a=!0});case 5:e.next=10;break;case 7:return s="/api/containers/"+t+"/"+r,e.next=10,Ee.post(s).then(function(e){a=!0}).catch(function(){a=!1});case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,Te)})),function(e,t){return De.apply(this,arguments)}),createContainer:(Fe=m()(u.a.mark(function e(t,r){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n="/api/containers/create?name="+t,e.next=4,Ee.post(n,{Image:r}).then(function(e){a=!0});case 4:return e.abrupt("return",a);case 6:case"end":return e.stop()}},e,Te)})),function(e,t){return Fe.apply(this,arguments)}),getContainerLog:(Ie=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a="/api/containers/"+t+"/logs",e.next=4,Ee.get(a).then(function(e){r=!0}).catch(function(){r=!1});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,Te)})),function(e){return Ie.apply(this,arguments)}),getContainerInfo:($e=m()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/containers/"+t+"/json",tableData=[],e.next=4,Ee.get(r).then(function(e){tableData=e}).catch(function(){tableData=null});case 4:return e.abrupt("return",tableData);case 7:case"end":return e.stop()}},e,Te)})),function(e){return $e.apply(this,arguments)}),getProcessById:(Ce=m()(u.a.mark(function e(t){var r,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a="/api/containers/"+t+"/top",n=[],e.next=5,Ee.get(a).then(function(e){n=e;for(var t=0;t<n.Processes.length;t++){var a={};8==n.Processes[t].length&&(a.uid=n.Processes[t][0],a.pid=n.Processes[t][1],a.stime=n.Processes[t][4],a.time=n.Processes[t][6],a.cmd=n.Processes[t][7]),r.push(a)}}).catch(function(){r=null});case 5:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,Te)})),function(e){return Ce.apply(this,arguments)}),getChangeOfFilesystem:(Se=m()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/containers/"+id+"/changes",tableData={},e.next=4,Ee.get(t).then(function(e){tableData=e}).catch(function(){tableData=null});case 4:return e.abrupt("return",tableData);case 6:case"end":return e.stop()}},e,Te)})),function(){return Se.apply(this,arguments)}),exportContainer:(xe=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/containers/"+t+"/export",a=!1,e.next=4,Ee.get(r).then(function(e){a=!0}).catch(function(){a=!1});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}},e,Te)})),function(e){return xe.apply(this,arguments)}),getContainerStats:(ye=m()(u.a.mark(function e(t){var r,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/containers/"+t+"/stats?stream=false",a=[{Id:"-",cpus:"-",usageLimit:"-",mem:"-",network:"-",block:"-"}],n={},e.next=5,Ee.get(r).then(function(e){if((n=e).cpu_stats.system_cpu_usage-n.precpu_stats.system_cpu_usage==0)a[0].cpus="0.00%";else{var r=(n.cpu_stats.cpu_usage.total_usage-n.precpu_stats.cpu_usage.total_usage)/(n.cpu_stats.system_cpu_usage-n.precpu_stats.system_cpu_usage)*n.cpu_stats.cpu_usage.percpu_usage.length;a[0].cpus=Number(100*r).toFixed(2)+"%"}var s=Number((n.memory_stats.usage-n.memory_stats.stats.cache)/1024/1024).toFixed(2),o=Number(n.memory_stats.limit/1024/1024/1024).toFixed(3);a[0].usageLimit=s+"MiB / "+o+"GiB";var i=(n.memory_stats.usage-n.memory_stats.stats.cache)/n.memory_stats.limit;a[0].mem=Number(100*i).toFixed(2)+"%",a[0].Id=t;var l=0,c=0;for(var u in n.networks)l+=n.networks[u].rx_bytes,c+=n.networks[u].tx_bytes;a[0].network=l+"B/"+c+"B";for(var p=0,m=0,f=0;f<n.blkio_stats.io_service_bytes_recursive.length;f++){var d=n.blkio_stats.io_service_bytes_recursive[f];console.log(d),"Read"===d.op?p+=d.value:"Write"===d.op&&(m+=d.value)}p=Number(p/1e3/1e3).toFixed(2),m=Number(m/1e3/1e3).toFixed(2),a[0].block=p+"MB/"+m+"B"}).catch(function(){a=null});case 5:return e.abrupt("return",a);case 7:case"end":return e.stop()}},e,Te)})),function(e){return ye.apply(this,arguments)}),updateContainer:(ke=m()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{BlkioWeight:300,CpuShares:512,CpuPeriod:1e5,CpuQuota:5e4,CpuRealtimePeriod:1e6,CpuRealtimeRuntime:1e4,CpusetCpus:"0,1",CpusetMems:"0",Memory:314572800,MemorySwap:514288e3,MemoryReservation:209715200,KernelMemory:52428800,RestartPolicy:{MaximumRetryCount:4,Name:"on-failure"}},r="/api/containers"+t+"/update",tableData={},e.next=5,Ee.post(r).then(function(e){tableData=e}).catch(function(){tableData=null});case 5:return e.abrupt("return",tableData);case 6:case"end":return e.stop()}},e,Te)})),function(e){return ke.apply(this,arguments)}),renameContainer:(we=m()(u.a.mark(function e(t,r){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/containers/"+t+"/rename?name="+r,n=!1,e.next=4,Ee.post(a).then(function(e){n=!0}).catch(function(){n=!1});case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,Te)})),function(e,t){return we.apply(this,arguments)})},image:{getImages:function(){var e=m()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Ee.get("/api/images/json").then(function(e){e.forEach(function(e){var r={};r.Id=e.Id.substring(0,12),r.Tags=e.RepoTags,r.Size=e.Size,r.Created=e.Created,t.push(r)})});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e,Re)}));return function(){return e.apply(this,arguments)}}(),exportImage:function(){var e=m()(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,r="/api/images/"+name+"/get",e.next=4,Ee.get(r).then(function(e){t=!0});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,Re)}));return function(){return e.apply(this,arguments)}}(),importImage:function(){var e=m()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{quiet:!1},t=!1,e.next=4,Ee.post("/api/images/load").then(function(e){t=!0});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,Re)}));return function(){return e.apply(this,arguments)}}(),buildImage:function(){var e=m()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.post("/api/build",{});case 2:case"end":return e.stop()}},e,Re)}));return function(){return e.apply(this,arguments)}}(),createImage:function(){var e=m()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{fromImga:"",fromSrc:"",repo:"",tag:"",platform:""},e.next=3,Ee.post("/api/images/create");case 3:case"end":return e.stop()}},e,Re)}));return function(){return e.apply(this,arguments)}}(),inspectImage:function(){var e=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a="/api/images/"+t+"/json",e.next=4,Ee.get(a).then(function(e){r=e});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,Re)}));return function(t){return e.apply(this,arguments)}}(),getHistory:function(){var e=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a="/api/images/"+t+"/history",e.next=4,Ee.get(a).then(function(e){r=e});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,Re)}));return function(t){return e.apply(this,arguments)}}(),pushImage:function(){var e=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a="/api/images/"+t+"/push",e.next=4,Ee.post(a).then(function(e){r=!0});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,Re)}));return function(t){return e.apply(this,arguments)}}(),tagImage:function(){var e=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{repo:"",tag:""},r=!1,a="/api/images/"+t+"/tag",e.next=5,Ee.post(a).then(function(e){r=!0});case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,Re)}));return function(t){return e.apply(this,arguments)}}(),removeImage:function(){var e=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{force:!1,noprune:!1},r=!1,a="/api/images/"+t,e.next=5,Ee.delete(a).then(function(e){r=!0});case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,Re)}));return function(t){return e.apply(this,arguments)}}(),deleteUnusedImage:function(){var e=m()(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,r="/api/images/prune",e.next=4,Ee.post(r).then(function(e){t=!0});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,Re)}));return function(){return e.apply(this,arguments)}}(),createImageByContainer:(ze=m()(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{container:"",repo:"",tag:"",comment:"",author:"",pause:!0,changes:""},t=!1,r="/api/commit",e.next=5,Ee.post(r).then(function(e){t=!0});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e,Re)})),function(){return ze.apply(this,arguments)})},network:{getNetworks:function(){var e=m()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{filters:""},t=[],e.next=4,Ee.get("/api/networks").then(function(e){e.forEach(function(e){var r={};r.Id=e.Id.substring(0,12),r.Scope=e.Scope,r.Driver=e.Driver,r.Name=e.Name,t.push(r)})});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,Ve)}));return function(){return e.apply(this,arguments)}}(),inspectNetwork:function(){var e=m()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{verbose:"",scope:""},Ve.tableData={},r="/api/networks"+t,e.next=5,Ee.get(r).then(function(e){tableData=e});case 5:return e.abrupt("return",tableData);case 6:case"end":return e.stop()}},e,Ve)}));return function(t){return e.apply(this,arguments)}}(),removeNetwork:function(){var e=m()(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{verbose:"",scope:""},r="/api/networks"+t,a=!1,e.next=5,Ee.delete(r).then(function(e){a=!0});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}},e,Ve)}));return function(t){return e.apply(this,arguments)}}(),createNetwork:function(){var e=m()(u.a.mark(function e(){var t,r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={Name:"isolated_nw",CheckDuplicate:!1,Driver:"bridge",EnableIPv6:!0,IPAM:{Driver:"default",Config:[{Subnet:"172.20.0.0/16",IPRange:"172.20.10.0/24",Gateway:"172.20.10.11"},{Subnet:"2001:db8:abcd::/64",Gateway:"2001:db8:abcd::1011"}],Options:{foo:"bar"}},Internal:!0,Attachable:!1,Ingress:!1,Options:{"com.docker.network.bridge.default_bridge":"true","com.docker.network.bridge.enable_icc":"true","com.docker.network.bridge.enable_ip_masquerade":"true","com.docker.network.bridge.host_binding_ipv4":"0.0.0.0","com.docker.network.bridge.name":"docker0","com.docker.network.driver.mtu":"1500"},Labels:{"com.example.some-label":"some-value","com.example.some-other-label":"some-other-value"}},r="/api/networks/create",a=!1,e.next=5,Ee.post(r,t).then(function(e){a=!0});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}},e,Ve)}));return function(){return e.apply(this,arguments)}}(),connectContainerToNet:function(){var e=m()(u.a.mark(function e(t){var r,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={Container:"3613f73ba0e4",EndpointConfig:{IPAMConfig:{IPv4Address:"172.24.56.89",IPv6Address:"2001:db8::5689"}}},a="/api/networks/"+t+"/connect",n=!1,e.next=5,Ee.post(a,r).then(function(e){n=!0});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e,Ve)}));return function(t){return e.apply(this,arguments)}}(),disconnectContainerToNet:function(){var e=m()(u.a.mark(function e(t){var r,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={Container:"string",Force:!0},a="/api/networks/"+t+"/disconnect",n=!1,e.next=5,Ee.post(a,r).then(function(e){n=!0});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e,Ve)}));return function(t){return e.apply(this,arguments)}}(),deleteUnusednetworks:function(){var e=m()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,Ee.post("/api/networks/prune").then(function(e){t=!0});case 3:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,Ve)}));return function(){return e.apply(this,arguments)}}()},user:{login:function(){var e=m()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,Ee.post("/users/login",t).then(function(e){r=e}).catch(function(){r=null});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,Le)}));return function(t){return e.apply(this,arguments)}}(),register:function(){var e=m()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,Ee.post("/users",t).then(function(e){r=e}).catch(function(){r=null});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,Le)}));return function(t){return e.apply(this,arguments)}}()},endpoint:{getEndpoints:function(){var e=m()(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("username"),r=null,e.next=4,Ee.post("/endpointList",{email:t}).then(function(e){r=e.endpoints}).catch(function(){r=null});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,Ae)}));return function(){return e.apply(this,arguments)}}(),addEndpoint:function(){var e=m()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,console.log(t),e.next=4,Ee.post("/addEndpoint",t).then(function(e){r=e}).catch(function(){r=null});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,Ae)}));return function(t){return e.apply(this,arguments)}}()}};a.default.prototype.$api=Ue,a.default.prototype.$echarts=de.a,a.default.prototype.$axios=me.a,a.default.use(s.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:ue,store:ge,components:{App:i},template:"<App/>"}),ue.beforeEach(function(e,t,r){e.matched.some(function(e){return e.meta.auth})?ge.state.isUserLogin?r():(Object(n.Notification)({title:"提示",message:"请先登录后再访问"}),r({path:"/login",query:{redirect:e.fullPath}})):r()})},PGpd:function(e,t){},W3c0:function(e,t){},WnXQ:function(e,t){},cHpg:function(e,t){},kUdh:function(e,t){},oODx:function(e,t){},rgDW:function(e,t){},srm9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f22961eece1244dc7a58.js.map